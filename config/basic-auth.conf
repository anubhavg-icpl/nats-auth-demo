# Basic Authorization Configuration
# Demonstrates user permissions with publish/subscribe controls

port: 4222

authorization {
  # Default permissions for users without specific permissions
  default_permissions = {
    publish = "SANDBOX.*"
    subscribe = ["PUBLIC.>", "_INBOX.>"]
  }

  # Admin permissions - full access
  ADMIN = {
    publish = ">"
    subscribe = ">"
  }

  # Requestor permissions - can make requests
  REQUESTOR = {
    publish = ["req.a", "req.b"]
    subscribe = "_INBOX.>"
  }

  # Responder permissions - can respond to requests
  RESPONDER = {
    subscribe = ["req.a", "req.b"]
    publish = "_INBOX.>"
  }

  # Users list with their credentials and permissions
  users = [
    {user: admin, password: admin123, permissions: $ADMIN}
    {user: client, password: client123, permissions: $REQUESTOR}
    {user: service, password: service123, permissions: $RESPONDER}
    {user: other, password: other123}
  ]
}
