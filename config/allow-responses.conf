# Allow Responses Configuration
# Demonstrates service responders with temporary reply permissions

port: 4224

authorization: {
  users: [
    { 
      user: client
      password: client123
    }
    { 
      user: service_single
      password: service123
      permissions: {
        subscribe: "requests.single"
        allow_responses: true  # Can publish only once to reply subjects
      }
    }
    { 
      user: service_stream
      password: service456
      permissions: {
        subscribe: "requests.stream"
        allow_responses: { max: 5, expires: "1m" }  # Can publish up to 5 responses within 1 minute
      }
    }
    { 
      user: service_mixed
      password: service789
      permissions: {
        subscribe: "requests.mixed"
        publish: "logs.>"  # Explicit publish permission
        allow_responses: true  # Plus temporary reply permissions
      }
    }
  ]
}
